---
layout: default
---

{% if page._styles %}
  <style type="text/css">
    {{ page._styles }}
  </style>
{% endif %}

{% if page.toc %}
<!-- ✅ Two-column layout with TOC -->
<div style="display: flex; align-items: flex-start; padding: 2rem;">

  <!-- TOC sidebar on the far left -->
  <nav style="
    width: 220px;
    flex-shrink: 0;
    font-size: 0.95em;
    line-height: 1.6;
    position: sticky;
    top: 5rem;
    height: fit-content;
    margin-right: 2rem;
  ">
    <h3 style="margin-top: 0;">Contents</h3>
    <ul style="list-style: none; padding-left: 0; margin: 0;">
      {% for item in page.toc_items %}
        <li><a href="{{ item.url }}">{{ item.title }}</a></li>
      {% endfor %}
    </ul>
  </nav>

  <!-- Main content (centered within available space) -->
  <div style="flex: 1; max-width: 800px; margin: 0 auto;">
    <div class="post">
      <header class="post-header">
        <h1 class="post-title">{{ page.title }}</h1>
        <p class="post-description">{{ page.description }}</p>
      </header>

      <article>
        {{ content }}
      </article>

      {% if page.related_publications %}
        <h2>References</h2>
        <div class="publications">
          {% bibliography --cited_in_order %}
        </div>
      {% endif %}

      {% if site.giscus and page.giscus_comments %}
        {% include giscus.liquid %}
      {% endif %}
    </div>
  </div>
</div>

{% else %}
<!-- ✅ Layout for pages without TOC -->
<div style="max-width: 800px; margin: 0 auto; padding: 2rem;">
  <div class="post">
    <header class="post-header">
      <h1 class="post-title">{{ page.title }}</h1>
      <p class="post-description">{{ page.description }}</p>
    </header>

    <article>
      {{ content }}
    </article>

    {% if page.related_publications %}
      <h2>References</h2>
      <div class="publications">
        {% bibliography --cited_in_order %}
      </div>
    {% endif %}

    {% if site.giscus and page.giscus_comments %}
      {% include giscus.liquid %}
    {% endif %}
  </div>
</div>
{% endif %}
